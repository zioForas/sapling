name: Sappie Bot

on:
  schedule:
    - cron: "1 12 * * *"   # 12:01 AM
    - cron: "9 0 * * *"    # 12:09 AM
    - cron: "11 1 * * *"   # 1:11 AM
    - cron: "22 2 * * *"   # 2:22 AM
    - cron: "33 3 * * *"   # 3:33 AM
    - cron: "44 4 * * *"   # 4:44 AM
    - cron: "55 5 * * *"   # 5:55 AM
    - cron: "39 6 * * *"   # 6:39 AM (Tesla's 369)
    - cron: "11 11 * * *"  # 11:11 AM
    - cron: "22 12 * * *"  # 12:22 PM
    - cron: "33 13 * * *"  # 1:33 PM
    - cron: "44 14 * * *"  # 2:44 PM
    - cron: "55 15 * * *"  # 3:55 PM
    - cron: "11 16 * * *"  # 4:11 PM
    - cron: "22 17 * * *"  # 5:22 PM
    - cron: "33 18 * * *"  # 6:33 PM
    - cron: "44 19 * * *"  # 7:44 PM
    - cron: "10 22 * * *"  # 10:10 PM
  workflow_dispatch:

jobs:
  post-tweet:
    runs-on: ubuntu-latest
    steps:
      - uses: actions/checkout@v2
      - uses: actions/setup-node@v2
        with:
          node-version: '18'
      - run: npm install
      - run: node github-bot.js
        env:
          TWITTER_API_KEY: ${{ secrets.TWITTER_API_KEY }}
          TWITTER_API_SECRET: ${{ secrets.TWITTER_API_SECRET }}
          TWITTER_ACCESS_TOKEN: ${{ secrets.TWITTER_ACCESS_TOKEN }}
          TWITTER_ACCESS_SECRET: ${{ secrets.TWITTER_ACCESS_SECRET }}
          AITABLE_TOKEN: ${{ secrets.AITABLE_TOKEN }}
          AITABLE_DATASHEET_ID: ${{ secrets.AITABLE_DATASHEET_ID }}
          GEMINI_API_KEY: ${{ secrets.GEMINI_API_KEY }} 